(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{387:function(t,e){},388:function(t,e){},389:function(t,e){},399:function(t,e,n){"use strict";n.r(e);var o=n(29),r=n(140),c=(n(95),n(59),n(394)),d={data:function(){return{video:null,classScore:null,boxTopLeftx:null,boxTopLefty:null,boxWidth:null,boxHeight:null,intervals:[]}},mounted:function(){var t=this;this.initializeCanvas(),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(this.video=this.$refs.video,this.initializeFaceLandmarkModel(),navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.video.srcObject=e})),this.intervals.push(setInterval(this.updateCanvas,1e3)))},destroyed:function(){clearInterval.apply(void 0,Object(r.a)(this.intervals))},methods:{initializeCanvas:function(){var canvas=document.getElementById("camera-canvas");canvas.getContext&&canvas.getContext("2d").clearRect(0,0,canvas.width,canvas.height)},initializeFaceLandmarkModel:function(){return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.c.tinyFaceDetector.load("weights/");case 2:return t.next=4,c.c.faceLandmark68TinyNet.load("weights/");case 4:case"end":return t.stop()}}),t)})))()},updateCanvas:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var canvas,n,o,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.initializeCanvas(),(canvas=document.getElementById("camera-canvas")).getContext){e.next=4;break}return e.abrupt("return");case 4:return n=canvas.getContext("2d"),e.next=7,c.b(t.video,new c.a).withFaceLandmarks(!0);case 7:if(o=e.sent){e.next=10;break}return e.abrupt("return");case 10:for(r=.25*o.detection.box.height,t.boxTopLeftx=o.detection.box.topLeft.x,t.boxTopLefty=o.detection.box.topLeft.y-r,t.boxWidth=o.detection.box.width,t.boxHeight=o.detection.box.height+r,t.classScore=o.detection.classScore,n.strokeRect(t.boxTopLeftx,t.boxTopLefty,t.boxWidth,t.boxHeight),i=0;i<o.landmarks.positions.length;i++)n.strokeRect(o.landmarks.positions[i].x,o.landmarks.positions[i].y,1,1);case 18:case"end":return e.stop()}}),e)})))()},capture:function(){var canvas=document.getElementById("capture-canvas");canvas.getContext&&canvas.getContext("2d").drawImage(this.video,this.boxTopLeftx,this.boxTopLefty,this.boxWidth,this.boxHeight,0,0,canvas.width,canvas.height)}}},l=n(84),v=n(112),h=n.n(v),x=n(230),f=n(353),m=n(350),w=n(396),y=n(398),k=n(397),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",[n("v-card",{attrs:{width:"640",height:"480"}},[n("video",{ref:"video",staticStyle:{position:"relative: position: absolute"},attrs:{width:"640",autoplay:"",playsinline:"",muted:""},domProps:{muted:!0}}),t._v(" "),n("canvas",{staticStyle:{position:"absolute"},attrs:{id:"camera-canvas",width:"640",height:"480"}})])],1),t._v(" "),n("v-col",[n("v-card",{attrs:{width:"640"}},[n("canvas",{attrs:{id:"capture-canvas",width:"160",height:"240"}}),t._v(" "),n("v-card-actions",[n("v-btn",{on:{click:function(e){return t.capture()}}},[t._v(" Capture ")])],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[t._v("\n        "+t._s(t.classScore?t.classScore:"No Face Detected.")+"\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{VBtn:x.a,VCard:f.a,VCardActions:m.a,VCardText:m.b,VCol:w.a,VDivider:y.a,VRow:k.a})}}]);